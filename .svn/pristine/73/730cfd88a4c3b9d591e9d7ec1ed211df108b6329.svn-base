<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="expires" content="0">
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<title>站点预报</title>
	<link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="assets/viewer/viewer.css">
	<link rel="stylesheet" href="css/common.css"/>
	<link rel="stylesheet" href="css/login2.css"/>
	<link rel="stylesheet" href="css/custom.css"/>
	<link rel="stylesheet" href="css/helper.css">
	<link rel="stylesheet" href="css/datetimepicker.min.css"/>
	<link rel="stylesheet" href="css/buttons.css">
	<link rel="stylesheet" href="css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="assets/handsontable/css/handsontable.full.min.css" />
	<!-- messenger -->
	<link rel="stylesheet" href="css/messenger.css" type="text/css">
	<link rel="stylesheet" href="assets/select2-4.0.3/dist/css/select2.min.css" type="text/css">
	<link rel="stylesheet" href="assets/layui-v1.0.9_rls/css/layui.css"  media="all">
	<link rel="stylesheet" href="assets/ztree/css/zTreeStyle/zTreeStyle.css">
	<link rel="stylesheet" type="text/css" href="css/dlyb.css">
	<!-- 预警制作样式 -->
	<link rel="stylesheet" href="css/produce.css">
	<!--add by pope 通用配置文件 -->
	<script type="text/javascript" src="js/config/config.js" ></script>
	<script type="text/javascript" src="js/DataClass/CIMISS-Data.js" ></script>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<!-- moment -->
	<script type="text/javascript" src="assets/moment/moment.min.js"></script>
	<script type="text/javascript" src="assets/moment/zh-cn.js"></script>
	<script type="text/javascript" src="assets/viewer/viewer.js"></script>
	<script type="text/javascript" src="js/util/clazz.js"></script>
	<script type="text/javascript" src="js/util/helper.js"></script>
	<script type="text/javascript" src="js/buttons.js"></script>
	<script type="text/javascript" src='libs/WeatherMap.Include.js'></script>
	<!-- <script type="text/javascript" src="js/jquery.js"></script> -->
	<script type="text/javascript" src="js/jquery.cookie.js"></script>
	<script type="text/javascript" src="js/zui.min.js"></script>
	<script type="text/javascript" src="js/bootstrap-modal.js"></script>
	<script type="text/javascript" src="assets/select2-4.0.3/dist/js/select2.full.js"></script>
	<script type="text/javascript" src="assets/layer/layer.js"></script>
	<script type="text/javascript" src="assets/layui-v1.0.9_rls/layui.js" charset="utf-8"></script>
	<!-- ztree插件 -->
	<script type="text/javascript" src="assets/ztree/js/jquery.ztree.all.min.js"></script>
	<!--引入bootstrap组件-->
	<!--<script type="text/javascript" src="../Assets/bootstrap-3.3.5-dist/js/bootstrap.min.js"></script>-->
	<script type="text/javascript" src="assets/handsontable/js/handsontable.full.min.js"></script>
	<script type="text/javascript" src="assets/handsontable/js/handsontable.addon.js"></script>
	<script type="text/javascript" src="js/Import.js"></script>
	<script type="text/javascript" src="js/ImportFromGrid.js"></script>
	<script type="text/javascript" src="js/ImportFromFile.js"></script>
	<script type="text/javascript" src="js/ImportFromStation.js"></script>
	<script type="text/javascript" src="assets/html2canvas.js"></script>
	<script type="text/javascript" src="assets/jquery.jeditable.js"></script>
	<script type="text/javascript" src="js/SPDPrint.js"></script>
	<script type="text/javascript" src="js/styles/plotStyles_surface.js"></script>
	<script type="text/javascript" src="js/styles/plotStyles_hight.js"></script>
	<script type="text/javascript" src="js/styles/rain1hStyles.js"></script>
	<script type="text/javascript" src="js/styles/rain3hStyles.js"></script>
	<script type="text/javascript" src="js/styles/rain6hStyles.js"></script>
	<script type="text/javascript" src="js/styles/rain12hStyles.js"></script>
	<script type="text/javascript" src="js/styles/rain24hStyles.js"></script>
	<script type="text/javascript" src="js/styles/windStyles.js"></script>
	<script type="text/javascript" src="js/styles/tempStyles.js"></script>
	<script type="text/javascript" src="js/styles/rhStyles.js"></script>
	<script type="text/javascript" src="js/styles/tccStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_TempStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_RHStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_TCCStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_Rain24Styles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_RadarStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_500hPaHightStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_IR1Styles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_IR2Styles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_IR3Styles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_IR4Styles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_VISStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_FYVISStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_10uvStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_AirStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_WStyles.js"></script>
	<script type="text/javascript" src="js/styles/plotStyles_skzl.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_WOfNoRainStyles.js"></script>
	<script type="text/javascript" src="js/styles/plotStyles_rhjc.js"></script>
	<script type="text/javascript" src="js/styles/riskMonitoringStyles.js"></script>
	<script type="text/javascript" src="js/CommonFunction.js"></script>
	<script type="text/javascript" src="js/Renderer/StreamLine.js"></script>
	<script type="text/javascript" src="js/Renderer/NeonLine.js"></script>
	<script type="text/javascript" src="js/Renderer/GlintAnimator.js"></script>
	<script type="text/javascript" src="js/Controls/datetimepicker.min.js"></script>
	<script type="text/javascript" src="js/Controls/Chart.js"></script>
	<script type="text/javascript" src="js/Controls/ChartClass.js"></script>
	<script type="text/javascript" src="js/Controls/DateSelecter.js"></script>
	<script type="text/javascript" src="js/Controls/DateSelecterSK.js"></script>
	<script type="text/javascript" src="js/Controls/dMapTools.js"></script>
	<script type="text/javascript" src="js/Controls/YuBaoshixiaoTools.js"></script>
	<script type="text/javascript" src="js/Controls/SideWrapper.js"></script>
	<script type="text/javascript" src="js/Controls/MapSwitch.js"></script>
	<script type="text/javascript" src="js/Controls/Legend.js"></script>
	<script type="text/javascript" src="js/Controls/LegendCimiss.js"></script>
	<script type="text/javascript" src="js/jquery-plug-ins.js"></script>
	<script type="text/javascript" src="js/Controls/LegendManager.js"></script>
	<script type="text/javascript" src="js/Controls/InputRangeDigit.js"></script>
	<script type="text/javascript" src="js/CorrectAction.js"></script>
	<script type="text/javascript" src="js/MagicTool.js"></script>
	<script type="text/javascript" src="js/FilterTool.js"></script>
	<script type="text/javascript" src="js/CrossRelation.js"></script>
	<script type="text/javascript" src="js/CrossCorrection.js"></script>
	<script type="text/javascript" src="js/Pages/PageBase.js"></script>
	<script type="text/javascript" src="js/CommonClass/Common.js" ></script>
	<script type="text/javascript" src="js/CommonClass/AlertSignalProduce.js" ></script>
	<!--add by pope 趋势订正通用模块 -->
	<script type="text/javascript" src="js/CommonClass/QSDZCommonClass.js" ></script>
	<!--add by pope 县界填色模块 -->
	<script type="text/javascript" src="js/extend/FillColors.js" ></script>
	<!--add by pope 一致性检查模块 -->
	<script type="text/javascript" src="js/extend/ConsistencyCheck.js" ></script>
	<script type="text/javascript" src="js/Pages/SKZLPageClass.js"></script>
	<script type="text/javascript" src="js/Pages/WXLDPageClass.js"></script>
	<script type="text/javascript" src="js/Pages/SZMSPageClass.js"></script>
	<script type="text/javascript" src="js/Pages/GDYBPageClass.js"></script>
	<script type="text/javascript" src="js/Pages/ZDYBPageClass.js"></script>
	<script type="text/javascript" src="js/Pages/XTGLPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/ZDYBSZPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/ZDGLPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/QTQSKPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/QTQLDPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/QTQYTPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/DLYJPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/DSYBPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/LJYBPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/SJZDPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/DisplayPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/GridDidplayPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/ZHYJPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/YJZDPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/ZDFXPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/YJXHPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/ZCDPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/QDLJCPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/CPZSPageClass.js" ></script>
	<script type="text/javascript" src="js/zdyb.js"></script>
	<script type="text/javascript" src="js/Pages/gdyb/GridManage.js"></script>
	<script type="text/javascript" src="js/GridProductClass.js"></script>
	<script type="text/javascript" src="js/DataClass/CimissDataClass.js"></script>
	<script type="text/javascript" src="js/DataClass/RadarDataClass.js"></script>
	<script type="text/javascript" src="js/DataClass/AWXDataClass.js"></script>
	<script type="text/javascript" src="js/DataClass/MicapsDataClass.js"></script>
	<script type="text/javascript" src="js/DataClass/TextDataClass.js"></script>
	<script type="text/javascript" src="js/DataClass/DataServer.js"></script>
	<!-- 山洪预警管理模块 add by pope on 20170111-->
	<script type="text/javascript" src="js/Pages/Disaster/data.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/DataService.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/Layout/Layout.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/RiskSurvey.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/RiskAssessment.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/RiskMonitoring.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/RiskZoningMap.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/RiskProduct.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/RiskInspection.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/DisasterManage.js"></script>
	<!---->
	<script type="text/javascript" src="js/main.js"></script>
	<script type="text/javascript" src="js/Layers/LocalTiledCacheLayer.js"></script>
	<script type="text/javascript" src="js/Layers/LocalTiledCacheLayerBlackMap.js"></script>
	<script type="text/javascript" src="js/Layers/LocalTiledCacheLayerWhiteMap.js"></script>
	<script type="text/javascript" src="js/Layers/ArcgisWMTSLayer.js"></script>
	<script type="text/javascript" src="js/Layers/LocalTiledCacheLayerTDTIMG.js"></script>
	<script type="text/javascript" src="js/Layers/LocalTiledCacheLayerTDTMAP.js"></script>
	<script type="text/javascript" src="js/Layers/LocalTiledCacheLayerTDTTER.js"></script>
	<script type="text/javascript" src="js/Layers/MappingLayer.js"></script>
	<script type="text/javascript" src="js/DataCache.js"></script>
	<script type="text/javascript" src="js/DataStack.js"></script>
	<script type="text/javascript" src="js/GridAnalyst.js"></script>
	<script type="text/javascript" src="js/Rect.js"></script>
	<script type="text/javascript" src="js/Panels/DragPanelBase.js"></script>
	<script type="text/javascript" src="js/Panels/Panel_Tools.js"></script>
	<script type="text/javascript" src="js/Panels/Panel_LQDZ.js"></script>
	<script type="text/javascript" src="js/Panels/Panel_QHDZ.js"></script>
	<script type="text/javascript" src="js/Panels/Panel_QSDZ.js"></script>
	<script type="text/javascript" src="js/Panels/Panel_FXDZ.js"></script>
	<script type="text/javascript" src="js/Panels/Panel_RHJC.js"></script>
	<script src="data/StreamLine.js"></script>
	<script src="data/StreamLine_uv.js"></script>
	<script src="data/winddata.js"></script>
	<!-- mmgrid-->
	<link rel="stylesheet" href="css/mmgrid/mmGrid-bootstrap.css" />
	<link rel="stylesheet" href="css/mmgrid/mmGrid.css" />
	<link rel="stylesheet" href="css/mmgrid/mmPaginator.css" />
	<link rel="stylesheet" href="css/loadProgress.css">
	<script type="text/javascript" src="js/mmGrid.js" ></script>
	<!-- mmgrid end -->
	<!-- artdialog -->
	<link rel="stylesheet" href="css/artdialog/ui-dialog.css" />
	<script type="text/javascript" src="css/artdialog/dialog-min.js" ></script>
	<!-- artdialog end-->
	<script type="text/javascript" src="js/jquery.form.js" ></script>
	<script type="text/javascript" src="js/util/GridUtil.js"></script>
	<script type="text/javascript" src="js/util/TimerUtil.js"></script>
	<script type="text/javascript" src="js/util/LayerUtil.js"></script>
	<script type="text/javascript" src="js/util/DateUtils.js"></script>
	<script type="text/javascript" src="js/Controls/SmallRadar.js"></script>
	<!--iCheck 多选框插件
	<link rel="stylesheet" href="css/flat/blue.css"/>
	<link rel="stylesheet" href="css/square/blue.css"/>
	<script type="text/javascript" src="js/icheck.js"></script>-->
	<!-- highcharts-->
	<script type="text/javascript" src="js/highcharts/highcharts.js"></script>
	<script type="text/javascript" src="js/highcharts/highcharts-zh_CN.js"></script>
	<script type="text/javascript" src="js/highcharts/exporting.js"></script>
</head>
<body>
<div class="body"> 
	<div class="content2">
		<div id="menu" class="menu_normal" style="width: 405px;"><!--minimize-->
			<a id="displayBtn" style="display:none; background: rgb(225, 225, 235)"><</a>
			<div id="menu_bd" class="menu_bd" style="width: 405px;top:2px;"></div>
		</div>
		<div id="workspace_div">
			<div id="div_progress" style=""><span id="div_progress_title">正在生成格点报...</span></div>
		</div>
	</div>
</div>
</body>
<!-- Messenger -->
<script type="text/javascript" src="js/messenger/messenger.js"></script>
<script type="text/javascript">
	$(document).ready(function(){
		$("#span_user").click(function(){
			if($(this).html() != "未登录"){
				window.location = "personCenter.html";
			}
		});
		window.GDYB&&GDYB.Page.main(GDYB.ZDYBPage);
	});

	//键盘按键事件
	$(document).keydown(function (event) {
		if(event.keyCode == 189 || event.keyCode == 83) //-、s
		{
			GDYB.GridProductClass.updateGrid(GDYB.GridProductClass.subValue, 1);
			GDYB.FilterTool.updateGrid(GDYB.GridProductClass.subValue, 1);
		}
		else if(event.keyCode == 187 || event.keyCode == 65) //+、a
		{
			GDYB.GridProductClass.updateGrid(GDYB.GridProductClass.addValue, 1);
			GDYB.FilterTool.updateGrid(GDYB.GridProductClass.addValue, 1);
		}
	});

	//弹出输入框
	function popup_submit_fun(){
		var t = this;
		var value = $("#popup_text").val();
		if(value&&value!=""){
			$("#popup_div").css("display","none");
			GDYB.GridProductClass.currentGridValuePicked = Math.floor(value*10)/10;
		}
		else{
			alert("请输入格点值");
		}
	}

	function popup_cancel_fun(){
		$("#popup_div").css("display","none");
		GDYB.GridProductClass.currentGridValuePicked = null;
	}

	//右键菜单事件处理
	var hourspanCopy = null;
	var hourspanHover = null;
	$("#divContextMenu").find("div").click(function(){
		if(this.id == "div_copy"){
			hourspanCopy = hourspanHover;
			$("#div_paste").css("display", "block");
			$("#divContextMenu").css("display", "none");
		}
		else if(this.id == "div_paste"){
			$("#divContextMenu").css("display", "none");
			//var template = "是否将{0}小时格点粘贴到{1}小时格点？";
			//if(confirm(template.format(hourspanCopy, hourspanHover)) == true)
			{
				GDYB.GridProductClass.dataCache.getData(GDYB.GridProductClass.currentMakeTime, GDYB.GridProductClass.currentVersion,
					GDYB.GridProductClass.currentDateTime, GDYB.GridProductClass.currentElement, hourspanCopy, function(hourspanData){
						//这里必须拷贝
						var dataStack = new DataStack();
						var datasetGrid = dataStack.clone(hourspanData.data);

						GDYB.GridProductClass.dataCache.addData(GDYB.GridProductClass.currentMakeTime, GDYB.GridProductClass.currentVersion,
							GDYB.GridProductClass.currentDateTime, GDYB.GridProductClass.currentElement, hourspanHover, datasetGrid, 1);
						GDYB.GDYBPage.updateHourSpanStatus();
					});
			}
		}
		else if(this.id == "div_cancel"){
			$("#divContextMenu").css("display", "none");
		}
	});

	$("#a_exit").click(function(){
		if(this.innerHTML == "退出") {
			GDYB.GridProductClass.currentUserName = null;

			$("#span_user")[0].innerHTML = "未登录";
			$.cookie('password', '', { expires: -1 });      //如果退出，不记录密码
			$.cookie("rmbUser", 'false', { expire: -1 });   //如果退出，不记录密码
			this.innerHTML = "登录";
		}
		else if(this.innerHTML == "登录") {
			window.location.href="index.html";
		}
	});
	//显隐displayBtn
	$("#menu_bd").hover(function(){
		$("#displayBtn").css("display", "block");
	});
	$("#menu_bd").mouseleave(function(){
		setTimeout("$('#displayBtn').css('display', 'none')",5000);
	});
	$("#sideWrapper").hover(function(){
		$("#displayBtn").css("display", "block");
	});
	$("#sideWrapper").mouseleave(function(){
		setTimeout("$('#displayBtn').css('display', 'none')",5000);
	});
</script>
</html>
