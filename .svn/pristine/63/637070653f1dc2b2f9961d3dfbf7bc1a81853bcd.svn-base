<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="expires" content="0">
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<title>山东气象业务一体化平台--山洪预警</title>
	<link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="assets/viewer/viewer.css">
	<link rel="stylesheet" href="css/common.css"/>
	<link rel="stylesheet" href="css/login2.css"/>
	<link rel="stylesheet" href="css/custom.css"/>
	<link rel="stylesheet" href="css/helper.css">
	<link rel="stylesheet" href="css/datetimepicker.min.css"/>
	<link rel="stylesheet" href="css/buttons.css">
	<link rel="stylesheet" href="css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="assets/handsontable/css/handsontable.full.min.css" />
	<!-- messenger -->
	<link rel="stylesheet" href="css/messenger.css" type="text/css">
	<link rel="stylesheet" href="assets/select2-4.0.3/dist/css/select2.min.css" type="text/css">
	<link rel="stylesheet" href="assets/layui-v1.0.9_rls/css/layui.css"  media="all">
	<link rel="stylesheet" href="assets/ztree/css/zTreeStyle/zTreeStyle.css">
	<link rel="stylesheet" type="text/css" href="css/dlyb.css">
	<!-- 预警制作样式 -->
	<link rel="stylesheet" href="css/produce.css">
	<!--add by pope 通用配置文件 -->
	<script type="text/javascript" src="js/config/config.js" ></script> 
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<!-- moment -->
	<script type="text/javascript" src="assets/moment/moment.min.js"></script>
	<script type="text/javascript" src="assets/moment/zh-cn.js"></script>
	<script type="text/javascript" src="assets/viewer/viewer.js"></script>
	<script type="text/javascript" src="js/util/clazz.js"></script>
	<script type="text/javascript" src="js/util/helper.js"></script>
	<script type="text/javascript" src="js/buttons.js"></script>
	<script type="text/javascript" src='libs/WeatherMap.Include.js'></script>
	<!-- <script type="text/javascript" src="js/jquery.js"></script> -->
	<script type="text/javascript" src="js/jquery.cookie.js"></script>
	<script type="text/javascript" src="js/zui.min.js"></script>
	<script type="text/javascript" src="js/bootstrap-modal.js"></script>
	<script type="text/javascript" src="assets/select2-4.0.3/dist/js/select2.full.js"></script>
	<script type="text/javascript" src="assets/layer/layer.js"></script>
	<script type="text/javascript" src="assets/layui-v1.0.9_rls/layui.js" charset="utf-8"></script>
	<!-- ztree插件 -->
	<script type="text/javascript" src="assets/ztree/js/jquery.ztree.all.min.js"></script>
	<!--引入bootstrap组件-->
	<!--<script type="text/javascript" src="../Assets/bootstrap-3.3.5-dist/js/bootstrap.min.js"></script>-->
	<script type="text/javascript" src="assets/handsontable/js/handsontable.full.min.js"></script>
	<script type="text/javascript" src="assets/handsontable/js/handsontable.addon.js"></script>
	<script type="text/javascript" src="js/Import.js"></script>
	<script type="text/javascript" src="js/ImportFromGrid.js"></script>
	<script type="text/javascript" src="js/ImportFromFile.js"></script>
	<script type="text/javascript" src="js/ImportFromStation.js"></script>
	<script type="text/javascript" src="assets/html2canvas.js"></script>
	<script type="text/javascript" src="assets/jquery.jeditable.js"></script>
	<script type="text/javascript" src="js/SPDPrint.js"></script>
	<script type="text/javascript" src="js/styles/plotStyles_surface.js"></script>
	<script type="text/javascript" src="js/styles/plotStyles_hight.js"></script>
	<script type="text/javascript" src="js/styles/rain1hStyles.js"></script>
	<script type="text/javascript" src="js/styles/rain3hStyles.js"></script>
	<script type="text/javascript" src="js/styles/rain6hStyles.js"></script>
	<script type="text/javascript" src="js/styles/rain12hStyles.js"></script>
	<script type="text/javascript" src="js/styles/rain24hStyles.js"></script>
	<script type="text/javascript" src="js/styles/windStyles.js"></script>
	<script type="text/javascript" src="js/styles/tempStyles.js"></script>
	<script type="text/javascript" src="js/styles/rhStyles.js"></script>
	<script type="text/javascript" src="js/styles/tccStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_TempStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_RHStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_TCCStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_Rain24Styles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_RadarStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_500hPaHightStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_HightPaStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_IR1Styles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_IR2Styles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_IR3Styles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_IR4Styles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_VISStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_FYVISStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_10uvStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_AirStyles.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_WStyles.js"></script>
	<script type="text/javascript" src="js/styles/plotStyles_skzl.js"></script>
	<script type="text/javascript" src="js/styles/heatMap_WOfNoRainStyles.js"></script>
	<script type="text/javascript" src="js/styles/plotStyles_rhjc.js"></script>
	<script type="text/javascript" src="js/styles/riskMonitoringStyles.js"></script>
	<script type="text/javascript" src="js/CommonFunction.js"></script>
	<script type="text/javascript" src="js/Renderer/StreamLine.js"></script>
	<script type="text/javascript" src="js/Renderer/NeonLine.js"></script>
	<script type="text/javascript" src="js/Renderer/GlintAnimator.js"></script>
	<script type="text/javascript" src="js/Controls/datetimepicker.min.js"></script>
	<script type="text/javascript" src="js/Controls/Chart.js"></script>
	<script type="text/javascript" src="js/Controls/ChartClass.js"></script>
	<script type="text/javascript" src="js/Controls/DateSelecter.js"></script>
	<script type="text/javascript" src="js/Controls/DateSelecterSK.js"></script>
	<script type="text/javascript" src="js/Controls/dMapTools.js"></script>
	<script type="text/javascript" src="js/Controls/YuBaoshixiaoTools.js"></script>
	<script type="text/javascript" src="js/Controls/SideWrapper.js"></script>
	<script type="text/javascript" src="js/Controls/MapSwitch.js"></script>
	<script type="text/javascript" src="js/Controls/Legend.js"></script>
	<script type="text/javascript" src="js/Controls/LegendCimiss.js"></script>
	<script type="text/javascript" src="js/jquery-plug-ins.js"></script>
	<script type="text/javascript" src="js/Controls/LegendManager.js"></script>
	<script type="text/javascript" src="js/Controls/InputRangeDigit.js"></script>
	<script type="text/javascript" src="js/CorrectAction.js"></script>
	<script type="text/javascript" src="js/MagicTool.js"></script>
	<script type="text/javascript" src="js/FilterTool.js"></script>
	<script type="text/javascript" src="js/CrossRelation.js"></script>
	<script type="text/javascript" src="js/CrossCorrection.js"></script>
	<script type="text/javascript" src="js/Pages/PageBase.js"></script>
	<script type="text/javascript" src="js/CommonClass/Common.js" ></script>
	<script type="text/javascript" src="js/CommonClass/AlertSignalProduce.js" ></script>
	<!--add by pope 趋势订正通用模块 -->
	<script type="text/javascript" src="js/CommonClass/QSDZCommonClass.js" ></script>
	<!--add by pope 县界填色模块 -->
	<script type="text/javascript" src="js/extend/FillColors.js" ></script>
	<!--add by pope 一致性检查模块 -->
	<script type="text/javascript" src="js/extend/ConsistencyCheck.js" ></script>
	<script type="text/javascript" src="js/Pages/SKZLPageClass.js"></script>
	<script type="text/javascript" src="js/Pages/WXLDPageClass.js"></script>
	<script type="text/javascript" src="js/Pages/SZMSPageClass.js"></script>
	<script type="text/javascript" src="js/Pages/GDYBPageClass.js"></script>
	<script type="text/javascript" src="js/Pages/ZDYBPageClass.js"></script>
	<script type="text/javascript" src="js/Pages/XTGLPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/ZDYBSZPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/ZDGLPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/QTQSKPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/QTQLDPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/QTQYTPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/DLYJPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/DSYBPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/LJYBPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/SJZDPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/DisplayPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/GridDidplayPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/ZHYJPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/YJZDPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/ZDFXPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/YJXHPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/ZCDPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/QDLJCPageClass.js" ></script>
	<script type="text/javascript" src="js/Pages/CPZSPageClass.js" ></script>
	<script type="text/javascript" src="js/zdyb.js"></script>
	<script type="text/javascript" src="js/Pages/gdyb/GridManage.js"></script>
	<script type="text/javascript" src="js/GridProductClass.js"></script>
	<script type="text/javascript" src="js/DataClass/CimissDataClass.js"></script>
	<script type="text/javascript" src="js/DataClass/RadarDataClass.js"></script>
	<script type="text/javascript" src="js/DataClass/AWXDataClass.js"></script>
	<script type="text/javascript" src="js/DataClass/MicapsDataClass.js"></script>
	<script type="text/javascript" src="js/DataClass/TextDataClass.js"></script>
	<script type="text/javascript" src="js/DataClass/DataServer.js"></script>
	<!-- 山洪预警管理模块 add by pope on 20170111-->
	<script type="text/javascript" src="js/Pages/Disaster/data.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/DataService.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/Layout/Layout.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/RiskSurvey.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/RiskAssessment.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/RiskMonitoring.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/RiskZoningMap.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/RiskProduct.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/RiskInspection.js"></script>
	<script type="text/javascript" src="js/Pages/Disaster/DisasterManage.js"></script>
	<!---->
	<script type="text/javascript" src="js/main.js"></script>
	<script type="text/javascript" src="js/Layers/LocalTiledCacheLayer.js"></script>
	<script type="text/javascript" src="js/Layers/LocalTiledCacheLayerBlackMap.js"></script>
	<script type="text/javascript" src="js/Layers/LocalTiledCacheLayerWhiteMap.js"></script>
	<script type="text/javascript" src="js/Layers/ArcgisWMTSLayer.js"></script>
	<script type="text/javascript" src="js/Layers/LocalTiledCacheLayerTDTIMG.js"></script>
	<script type="text/javascript" src="js/Layers/LocalTiledCacheLayerTDTMAP.js"></script>
	<script type="text/javascript" src="js/Layers/LocalTiledCacheLayerTDTTER.js"></script>
	<script type="text/javascript" src="js/Layers/MappingLayer.js"></script>
	<script type="text/javascript" src="js/DataCache.js"></script>
	<script type="text/javascript" src="js/DataStack.js"></script>
	<script type="text/javascript" src="js/GridAnalyst.js"></script>
	<script type="text/javascript" src="js/Rect.js"></script>
	<script type="text/javascript" src="js/Panels/DragPanelBase.js"></script>
	<script type="text/javascript" src="js/Panels/Panel_Tools.js"></script>
	<script type="text/javascript" src="js/Panels/Panel_LQDZ.js"></script>
	<script type="text/javascript" src="js/Panels/Panel_QHDZ.js"></script>
	<script type="text/javascript" src="js/Panels/Panel_QSDZ.js"></script>
	<script type="text/javascript" src="js/Panels/Panel_FXDZ.js"></script>
	<script type="text/javascript" src="js/Panels/Panel_RHJC.js"></script>
	<script src="data/StreamLine.js"></script>
	<script src="data/StreamLine_uv.js"></script>
	<script src="data/winddata.js"></script>
	<!-- mmgrid-->
	<link rel="stylesheet" href="css/mmgrid/mmGrid-bootstrap.css" />
	<link rel="stylesheet" href="css/mmgrid/mmGrid.css" />
	<link rel="stylesheet" href="css/mmgrid/mmPaginator.css" />
	<!--<link rel="stylesheet" href="css/loadProgress.css">-->
	<script type="text/javascript" src="js/mmGrid.js" ></script>
	<!-- mmgrid end -->
	<!-- artdialog -->
	<link rel="stylesheet" href="css/artdialog/ui-dialog.css" />
	<script type="text/javascript" src="css/artdialog/dialog-min.js" ></script>
	<!-- artdialog end-->
	<script type="text/javascript" src="js/jquery.form.js" ></script>
	<script type="text/javascript" src="js/util/GridUtil.js"></script>
	<script type="text/javascript" src="js/util/TimerUtil.js"></script>
	<script type="text/javascript" src="js/util/LayerUtil.js"></script>
	<script type="text/javascript" src="js/util/DateUtils.js"></script>
	<script type="text/javascript" src="js/Controls/SmallRadar.js"></script>
	<script type="text/javascript" src="js/highcharts/highcharts.js"></script>
	<script type="text/javascript" src="js/highcharts/highcharts-zh_CN.js"></script>
	<script type="text/javascript" src="js/highcharts/exporting.js"></script>
</head>
<body>
<div class="body">
	<div class="banner">
		<div class="background">
		</div>
		<div class="logo">
			<span class='mainMenu'>山洪预警</span>
		</div>
		<!--右键菜单-->
		<div id="divContextMenu" style="display:none;width:80px;position:absolute;top:0px;left:0px;border: solid 1px rgb(150,160,200);background-color: #FFFFFF;color: #000000;z-index: 99;cursor: pointer;font-size: 12px;">
			<div id="div_copy">复制</div>
			<div id="div_paste" style="display: none">粘贴</div>
			<div id="div_cancel">取消</div>
		</div>
		<!--登录按钮-->
		<div id="login" style="position:absolute;top:0px;z-index:9999">
			<span>当前用户：</span><span id="span_user" style="cursor: pointer;">未登录</span><a id="a_exit">登录</a>
		</div>
		<a id="ScreenFull"><img src="imgs/img_launchfullscreen.png"/></a>
		<!--导航按钮-->
		<div id="navMenu" style='left:300px'>
			<ul id="btnMountainFloodWarning" class="root">
				<li style='width:90px;'><a id="returnBack" onclick='window.open("nativ.html","_self");' style="cursor:pointer;">首页</a></li>
				<li style='width:90px;'><a id="riskSurvey" style="cursor:pointer;">风险普查</a></li>
				<li style='width:125px;'><a id="riskZoningMap" style="cursor:pointer;">风险区划图谱</a></li>
				<li style='width:125px;'><a id="monitoringAlarm" style="cursor:pointer;">监测报警</a></li>
				<li style='width:125px;'><a id="riskProduct" style="cursor:pointer;">产品制作与发布</a></li>
				<!--<li style='width:125px;'><a id="riskWarning" style="cursor:pointer;">山洪预警联防</a></li>
				<li style='width:125px;' class="existsub"><a id="productInspection" style="cursor:pointer;">产品检验评估</a></li>-->
			</ul>
		</div>
	</div>
	<div class="content">
		<div id="menu" class="menu_normal"><!--minimize-->
			<a id="displayBtn" style="display:none; background: rgb(225, 225, 235)"><</a>
			<div id="menu_bd" class="menu_bd"></div>
		</div>
		<div id="workspace_div">
			<div id="map_div" class="map_normal">
				<div id="AQI_chart">
					<ul>
						<li class="list1"><span>300</span><span>200</span><span>150</span><span>100</span><span>50</span><span>0</span></li>
						<li class="list2"><span>Ⅵ级</span><span>Ⅴ级</span><span>Ⅳ级</span><span>Ⅲ级</span><span>Ⅱ级</span><span>Ⅰ级</span></li>
						<li class="list3"></li>
					</ul>
				</div>
				<!--浮动信息框-->
				<div id="myInfoWindow" style="z-index: 99;display: none;position: absolute;">
					<div id="myInfoTL" class="myInfoImg" style="width: 100%;height :28px;display: none;"><img src="imgs/windows/finger_TL.png" style="margin-left: 50px"/></div>
					<div id="myInfoTR" class="myInfoImg" style="width: 100%;height :28px;display: none;"><img src="imgs/windows/finger_TR.png" style="float:right;"/></div>
					<div id="myInfoWin" style="background-color: #ffffff;box-shadow:5px 5px 8px #888888;border: 1px solid rgb(183,183,183);margin-top: -1px;"></div>
					<div id="myInfoBL" class="myInfoImg" style="width: 100%;height :30px;margin-top: -1px;"><img src="imgs/windows/finger_BL.png" style="margin-left: 50px"/></div>
					<div id="myInfoBR" class="myInfoImg" style="width: 100%;height :30px;margin-top: -1px;display: none;"><img src="imgs/windows/finger_BR.png" style="float:right;"/></div>
				</div>
				<div id="map_title_div" style="position: absolute;display: none;left:50%;top:0.25%;width: 280px;margin-left:-140px;text-align:center;color:red;background-color:rgba(255,255,255,0.6);border:1px solid rgb(52,115,183);font-size:16px;z-index: 5;"></div>
				<div id="map_alert_div" style="position: absolute;display: none;left:50%;top:50%;width: 300px;margin-left:-140px;text-align:center;font-size:24px;color:rgb(255,0,0);z-index: 5;">无数据</div>
				<div id="popup_div" style="position: absolute;width:100%;height:100%;top:10px;left:0px;z-index: 5;display: none;text-align: center;padding-top: 30px;">
                        <span style="display: inline-block;border: 1px solid #4c4c4c;background: #fff;padding: 20px;">
                        <div><span>格点值:</span>&nbsp;&nbsp;<input id="popup_text" type="text" style="height: 30px;width: 100px;"/>&nbsp;&nbsp;<input id="popup_submit" type="button" value="确定" onclick="popup_submit_fun()">&nbsp;&nbsp;<input id="popup_cancel" type="button" value="取消" onclick="popup_cancel_fun()"/></div>
                        </span>
				</div>
				<div id="divInputValue" style="display: none; position: absolute;width: 35px; height: 24px;top:0px;left:0px;border: solid 1px rgb(150,160,200);background-color: #FFFFFF;color: #000000;z-index: 99;font-size: 12px">
					<input id="divInputValue_input" type="text" style="height: 100%;width: 100%;border: none;text-align: center"/>
				</div>
				<!--<div id="div_legend" style="position: absolute;display: block;bottom: 1px;width: 100%; float:left;z-index: 5;text-align: center;">-->
				<div id="div_legend" style="position: absolute;display: block;bottom: 1px;width: 100%; z-index: 5;text-align: center;">
					<div style="display: inline-block;">
						<!--<div id="div_legend_items" style="float:left;"></div>-->
						<div id="div_legend_items" style=""></div>
						<!--<div id="div_legend_itemTexts" style="height: 30px;"></div>-->
					</div>
				</div>
				<div id="dmapTools" class="dmapTools" style="z-index:20;left:14px;">
                    <div  flag="zoomIn" title="地图放大">
                        <img src="imgs/tools/tbig.png" class="toolsImg"/>
                        <!--<span class="toolsTitile">放大</span>-->
                    </div>
                    <div  flag="zoomOut" title="地图缩小">
                        <img src="imgs/tools/tsmall.png" class="toolsImg"/>
                       <!-- <span class="toolsTitile">缩小</span>-->
                    </div>
                    <div flag="pan" title="移动地图">
                        <img src="imgs/tools/trace.png" class="toolsImg"/>
                        <!--<span class="toolsTitile">平移</span>-->
                    </div>
                    <div flag="fullScreen" title="缩放本区域全图">
                        <img src="imgs/tools/fscreen.png" class="toolsImg"/>
                       <!-- <span class="toolsTitile">全省</span>-->
                    </div>
					<div flag="drawTxt" title="添加文字">
                        <img src="imgs/tools/mark.png" class="toolsImg"/>
                        <!--<span class="toolsTitile">文字</span>-->
                    </div>
                    <div flag="drawLine" title="测距离">
                        <img src="imgs/tools/gdistance.png" class="toolsImg"/>
                        <!--<span class="toolsTitile">测距</span>-->
                    </div>
                    <div flag="drawPolygon" title="测面积">
                        <img src="imgs/tools/garea.png" class="toolsImg"/>
                        <!--<span class="toolsTitile">测面</span>-->
                    </div>
                    <div flag="drawrectangle" title="绘制矩形">
                        <img src="imgs/tools/rec.png" class="toolsImg"/>
                        <!--<span class="toolsTitile">矩形</span>-->
                    </div>
                    <div flag="drawcircle" title="绘制圆形">
                        <img src="imgs/tools/circle.png" class="toolsImg"/>
                        <!--<span class="toolsTitile">画圆</span>-->
                    </div>
                    <div flag="drawluoqu" title="绘制落区">
                        <img src="imgs/tools/down.png" class="toolsImg"/>
                        <!--<span class="toolsTitile">落区</span>-->
                    </div>
                    <div flag="clear" title="清除" id="dxToolsClear">
                        <img src="imgs/tools/clear.png" class="toolsImg"/>
                        <!--<span class="toolsTitile">清除</span>-->
                    </div>
                </div>
				<div id="div_mapBounds" flag="min" class="div_mapBounds">
					<a id="setMapBoundsId">区域选择</a>
					<div id="div_mapBoundsContent"></div>
				</div>
				<div id="div_layerManager" flag="min" style="position: absolute;display: block;left:2px;bottom:2px;width: 100px;height:30px;z-index:999;text-align: center;">
					<div id="div_layerManager_Title" class="layerTitle">图层管理&nbsp;<img id="img_layerShow" src="imgs/layerUp.png"></img></div>
					<div id="div_layeContent">
					</div>
				</div>
				<div id="mapSwitch_div" class="mapLayer" style="z-index:20;">
					<div style="float:right;">
						<div>
							<img id="curImg" class="mapNowImg" flag="vec" src="imgs/img_map_loc_day.png">
						</div>
					</div>
					<div id="div_tdt_ter" onclick="tiandituOnclick(this)" class="moreMapLayer" style="float: right; margin-right: 5px; display: none;">
						<div>
							<div>
								<img class="mapImg" flag="ter" src="imgs/img_map_tdt_ter.png">
							</div>
						</div>
					</div>
					<div id="div_tdt_map" onclick="tiandituOnclick(this)" class="moreMapLayer" style="float: right; margin-right: 5px; display: none;">
						<div>
							<div>
								<img class="mapImg" flag="vec" src="imgs/img_map_tdt_map.png">
							</div>
						</div>
					</div>
					<div id="div_loc_day" onclick="tiandituOnclick(this)" class="moreMapLayer" style="float: right; margin-right: 5px; display: none;">
						<div>
							<div>
								<img class="mapImg" flag="day" src="imgs/img_map_loc_day.png">
							</div>
						</div>
					</div>
				</div>
				<div id="ExportPics" class=""><button value="出图" title=" 快捷出图,右键隐藏 " > 出图 </button></div>
				<div class="mapd" style="left: 0px;top:0px;display: none;"><div id="map1_title_div" style="position:absolute;z-index:10;left:30%;top:5px;text-align:center;background:#fff;border:1px solid #b6bfc6;pading:5px;font-size:20px"></div></div>
				<div class="mapd" style="left: 50%;top:0px;display: none;"><div id="map2_title_div" style="position:absolute;z-index:10;left:30%;top:5px;text-align:center;background:#fff;border:1px solid #b6bfc6;pading:5px;font-size:20px"></div></div>
				<div class="mapd" style="left: 0px;top:50%;display: none;"><div id="map3_title_div" style="position:absolute;z-index:10;left:30%;top:5px;text-align:center;background:#fff;border:1px solid #b6bfc6;pading:5px;font-size:20px"></div></div>
				<div class="mapd" style="left: 50%;top:50%;display: none;"><div id="map4_title_div" style="position:absolute;z-index:10;left:30%;top:5px;text-align:center;background:#fff;border:1px solid #b6bfc6;pading:5px;font-size:20px"></div></div>
				<div id="map"></div>
				<div class="mapd" style="left: 0px;top:0px;display: none;"><div class="screen4Map" id="map1"></div></div>
				<div class="mapd" style="left: 50%;top:0px;display: none;"><div class="screen4Map" id="map2"></div></div>
				<div class="mapd" style="left: 0px;top:50%;display: none;"><div class="screen4Map" id="map3"></div></div>
				<div class="mapd" style="left: 50%;top:50%;display: none;"><div class="screen4Map" id="map4"></div></div>
				<div id="chart_div" style="position:absolute;z-index:10;bottom:10px;left:10px;background:#fff;border:1px solid #b6bfc6;pading:5px;"></div>
				<div id="div_showGridValue" style="display:none; position: absolute; border: 1px solid #4c4c4c;background-color:rgba(255,255,255,0.5);padding:3px 3px 3px 3px;"></div>
			</div>
			<!--<div id="hourSpan_div" style="position: absolute;width: 100%;height: 30px;background: #ededed;left: 300px;bottom: 0px">-->
			<!--</div>-->
			<div id="div_modal_confirm" class="modal fade" style="width: 400px;margin: 0 auto;z-index: 9999;">
				<div class="modal-content">
					<div class="modal-header">
						<a class="close" data-dismiss="modal">×</a>
						<h3>提示</h3>
					</div>
					<div id="divImportModelType" class="modal-body">
						<h4 id="div_modal_confirm_content">是否交叉订正</h4>
					</div>
					<div class="modal-footer">
						<a id="btn_canel" href="#" class="btn" data-dismiss="modal">取消</a>
						<a id="btn_ok" href="#" data-dismiss="modal" class="btn btn-success">确定</a>
					</div>
				</div>
			</div>
			<div id="div_modal" class="modal fade" tabindex="-1" role="dialog">
				<div class="modal-dialog" style="top:80px" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<a class="close" data-dismiss="modal">×</a>
							<h3>提示</h3>
						</div>
						<div id="divImportModelType" class="modal-body">
							<!--<h4>是否全部要素按此模式调入</h4>-->
							<!--<p>“是”-全部要素，“否”-仅当前要素，“取消”-取消当前操作。</p>-->
							<h4 id="div_modal_content" style="float:none;line-height: 26px;">是否调入模式数据（模式时间）</h4>
							<div id="divImportModelType_dateSelectContainer" style='display: none;'>
								<div style='float:left;height: 26px'>
									<select id='divImportModelType_selectDays' style='background-color:rgba(225, 225, 235, 0);width:65px;height:26px;margin-left:5px;font-size: 14px;font-weight: bold'>
										<option value='10'>10天</option>
										<option value='9'>9天</option>
										<option value='8'>8天</option>
										<option value='7'>7天</option>
										<option value='6'>6天</option>
										<option value='5'>5天</option>
										<option value='4'>4天</option>
										<option value='3' selected="selected">3天</option>
										<option value='2'>2天</option>
										<option value='1'>1天</option>
									</select>
								</div>
								<div style='float:left;height: 26px'>
									<select id='divImportModelType_selectMakeTime' style='background-color:rgba(225, 225, 235, 0);width:65px;height:26px;margin-left:5px;font-size: 14px;font-weight: bold'>
										<option value='5'>05时</option>
										<option value='10'>10时</option>
										<option value='16'>16时</option>
									</select></div>
								<div id='divImportModelType_dateSelect' style='margin-left: 0px;'></div>
							</div>
							<div style="margin-top: 10px;"><input id="inputCurrentElementCurrentHourspan" name="importtype" type="radio" value="1" checked="checked" /><span>该要素当前时效</span></div>
							<div style="margin-top: 10px;"><input id="inputCurrentElementAllHourspan" name="importtype" type="radio" value="2"/><span>该要素所有时效</span></div>
							<div style="margin-top: 10px;"><input id="inputAllElementAllHourspan" name="importtype" type="radio" value="3"/><span>全部要素所有时效</span></div>
						</div>
						<div class="modal-footer">
							<a id="btn_canel" href="#" class="btn" data-dismiss="modal">取消</a>
							<a id="btn_ok" href="#" data-dismiss="modal" class="btn btn-success">确定</a>
						</div>
					</div>
				</div>
			</div>
			<div id="div_modal_SaveGrid" class="modal fade" style="width: 400px;margin: 0 auto;z-index: 9999;">
				<div class="modal-content">
					<div class="modal-header">
						<a class="close" data-dismiss="modal">×</a>
						<h3>提示</h3>
					</div>
					<div id="div_modal_SaveGrid_Body" class="modal-body">
						<h4 id="div_modal_SaveGrid_content">是否提交格点产品？</h4>
						<div style="margin-top: 10px;"><input id="saveCurrentElementCurrentHourspan" name="importtype" type="radio" value="1" checked="checked" /><span>该要素当前时效</span></div>
						<div style="margin-top: 10px;"><input id="saveCurrentElementAllHourspan" name="importtype" type="radio" value="2"/><span id="span_SaveTheElementAllHourSpan">该要素所有时效</span></div>
						<div style="margin-top: 10px;"><input id="saveCurrentAllElementAllHourspan" name="importtype" type="radio" value="3"/><span id="span_SaveAllElementAllHourSpan">全部要素所有时效</span></div>
					</div>
					<div class="modal-footer">
						<a id="btn_canel" href="#" class="btn" data-dismiss="modal">取消</a>
						<a id="btn_ok" href="#" data-dismiss="modal" class="btn btn-success">确定</a>
					</div>
				</div>
			</div>

			<!--自动站参考报-->
			<div id="div_modal_zdz" class="modal hide fade in" style="display: none; ">
				<div class="modal-header">
					<a class="close" data-dismiss="modal">×</a>
					<h3>提示</h3>
				</div>
				<div id="divImportModelType_zdz" class="modal-body">
					<div style='float:left;height: 26px'>
						<h4 id="div_modal_content_zdz" style="float:none;line-height: 26px;">是否调入自动站数据：</h4>
					</div>

					<div id="dateSelectContainer_zdz">
						<div id='dateSelect_zdz' style='margin-left: 0px;'></div>
					</div>
					<div style="margin-top: 10px;"><span>影响半径：</span><input type='number' id='importRadius' name='value2' min='1' max='10' value='0' style='margin-bottom: 0px;width: 60px;height: 24px'/></div>
					<div style="margin-top: 10px;"><input id="inputMaxTem" name="importtype" type="checkbox" value="1" checked="checked" /><span>24小时最高温度</span></div>
					<div style="margin-top: 10px;"><input id="inputMinTem" name="importtype" type="checkbox" value="2" checked="checked" /><span>24小时最低温度</span></div>
				</div>
				<div class="modal-footer">
					<a id="btn_canel_zdz" href="#" class="btn" data-dismiss="modal">取消</a>
					<a id="btn_ok_zdz" href="#" data-dismiss="modal" class="btn btn-success">确定</a>
				</div>
			</div>
			<style >
				#div_progress {
					display: none;
					position: absolute;
					right: 10px;
					bottom: 14px;
					z-index: 99;
					width: auto;
					height: 40px;
					line-height: 40px;
					vertical-align: middle;
					text-align: right;
					opacity:0.9;

					/*top: 50%;
					left: 50%;
					margin: -120px 0px 0px -120px;
					text-align: center;*/
				}

				#div_progress_title {
					color: #ffff00;
					font-size: 16px;
					font-weight: bold;
					text-shadow:rgb(0,0,0) 1px 0 0,rgb(0,0,0) 0 1px 0,rgb(0,0,0) -1px 0 0,rgb(0,0,0) 0 -1px 0;
				}
			</style>
			<div id="div_progress" style="">
				<span id="div_progress_title">正在生成格点报...</span>
				<!--<link rel="stylesheet" href="css/load6.css">
				<div class="load-container load6">
					<div class="loader">Loading...::after</div>
				</div>-->
			</div>
		</div>
	</div>
	<div id="mapTools">
		<div id="MapToolsDiv" hflag="false" style="display: none;position: absolute;z-index: 9999">
			<div id="mtsContentTL" class="mtsContentImg" style="width: 100%;height :28px;display: none;"><img src="imgs/tools/finger_TL.png" style="margin-left: 50px"/></div>
			<div id="mtsContentTR" class="mtsContentImg" style="width: 100%;height :28px;display: none;"><img src="imgs/tools/finger_TR.png" style="float:right;"/></div>
			<div id="mtsContent"  style="background-color: #ffffff;box-shadow:5px 5px 8px #888888;border: 1px solid rgb(183,183,183);margin-top: -1px;"></div>
			<div id="mtsContentBL" class="mtsContentImg" style="width: 100%;height :30px;margin-top: -1px;"><img src="imgs/tools/finger_BL.png" style="margin-left: 50px"/></div>
			<div id="mtsContentBR" class="mtsContentImg" style="width: 100%;height :30px;margin-top: -1px;display: none;"><img src="imgs/tools/finger_BR.png" style="float:right;"/></div>
		</div>
		<div id="dxWindows"></div>
		<div id="totleInfo" class="totleInfo" style="z-index:9999;"></div>
	</div>
</div>
<div id="div_modal_screenShot" class="modal fade in" style="z-index: 99999;top: 32px; left: 3%; width: 95%; background: white; height: 93%;">
	<div class="modal-header">
		<a class="close" data-dismiss="modal">×</a>
		<button type="button" class="export-btn btn btn-primary" value="map">保存</button>
	</div>
	<div id="screenShotModal"  class="modal-body" style="height:90%;" >
		<div id="screenShotDiv" style="width:100%;background-color: #ffffff;height:100%">
			<!--<div id='screenShotLegend' style='width: 50px;height: 100px;z-index:100;position: absolute;left: 40px;bottom: 60px;border-style:solid;border-width:1px;border-color:#000;'></div>-->
			<div id="hideDiv" style="display: none;"></div>
			<div id="titleDiv" style="text-align: center;min-height:35px;line-height: 35px;font-size: 20px"><p id="p_time"></p></div>
			<div id="outPutMapDiv" style="width:100%;text-align: center;height:calc(100% - 45px)"></div>
			<div id="screenShotLegend" style="position: relative;bottom: 30px;width: 95%; height: 30px;z-index: 5;text-align: center;"></div>
		</div>
	</div>
	<!--<div class="modal-footer">-->
	<!--&lt;!&ndash;<a id="btn_canel" href="#" class="btn" data-dismiss="modal">取消</a>&ndash;&gt;-->
	<!--&lt;!&ndash;<a id="btn_ok" href="#" data-dismiss="modal" class="btn btn-success">确定</a>&ndash;&gt;-->
	<!--</div>-->
</div>
<!--登录框-->
<div id="loginPanel" class="loginPanel">
    <div id="loginDiv" class="loginDiv">
        <div class="loginHeader" onmousedown="drag(document.getElementById('loginDiv'),event)">
            <span>山东省气象业务一体化平台</span>
            <div class="windowInfoClose" style="line-height: 38px;" onclick="closeLogin()">X</div>
        </div>
        <div style="width: 100%;height: 44px;margin-top: 25px;">
             <input id="userName" type="text" class="loginParamInput" placeholder="用户名:">
            <div style="margin-left: 32px;"><span id="passwordShow" class="loginTip"></span></div>
        </div>
        <div style="width: 100%;height: 40px;margin-top: 20px;">
                <input id="password" type="password"  class="loginParamInput" placeholder="密码:">
			<!--onFocus="loginOnFocus(this)" onBlur="loginOnBlur(this)" onchange="loginChange()"-->
        </div>
        <div style="margin-top: 10px;padding-top: 6px;height: 20px;">
            <input id="ck_rmbUser" type="checkbox" style="margin-left: 32px;vertical-align: middle;" checked="true"/>
            <label style="vertical-align:middle; ">保存密码</label>
        </div>
        <div style="width: 100%;height: 40px;margin-top: 10px;">
            <div id ="btnLogin" onclick="login()" class="loginButton">登录</div>
        </div>
    </div>
</div>
 <!--在首页上打开另一个HTML页的窗口 -->
<div id="dialog_model"
	 style="position: absolute;left: 0px;top: 64px;width:100%;height:calc(100% - 64px);padding:0px;overflow: hidden;z-index:15000;display:none">
	 <iframe id="dialog_modelIframe" src="" style="width: 100%;height: 100%;border: 0px;">
	</iframe>
</div>
<audio id="alertAudio" loop="true"><source src="assets\Warning.wav" type="audio/wav"></audio>
</body>
<!-- Messenger -->
<script type="text/javascript" src="js/messenger/messenger.js"></script>
<script type="text/javascript">
	/*eslint no-unused-vars:off, no-undef:off*/
	//修改为动态获取地址
	var host = "http://"+window.location.host;
	$(document).ready(function(){
		$("#span_user").click(function(){
			if($(this).html() != "未登录"){
				window.location = "personCenter.html";
			}
		});
		GDYB.DisasterManagePage.renderMenu();//初始化山洪预警
		window.GDYB&&GDYB.Page.main(GDYB.DisasterManagePage);
		$("#riskSurvey")[0].click();
		$("#ExportPics").bind('contextmenu',function(){
			return false;
		}).mousedown(function(event){
			switch(event.which){
				case 1 :{
					//dmt.exportNewImage();
					dmt.exportToImageNew();
				}
					break;
				case 3 :{
					var div = this;
					var tip = $(div).find("button").clone().html("&nbsp;快捷出图关闭！").css({"z-index":"25"});
					$(tip).appendTo($(div));
					setTimeout(function(){
						$(tip).remove();
						$(div).hide();
					}, 1500);
				}
					break;
			}
		});
	});

	//键盘按键事件
	$(document).keydown(function (event) {
		if(event.keyCode == 189 || event.keyCode == 83) //-、s
		{
			GDYB.GridProductClass.updateGrid(GDYB.GridProductClass.subValue, 1);
			GDYB.FilterTool.updateGrid(GDYB.GridProductClass.subValue, 1);
		}
		else if(event.keyCode == 187 || event.keyCode == 65) //+、a
		{
			GDYB.GridProductClass.updateGrid(GDYB.GridProductClass.addValue, 1);
			GDYB.FilterTool.updateGrid(GDYB.GridProductClass.addValue, 1);
		}
	});

	//弹出输入框
	function popup_submit_fun(){
		var t = this;
		var value = $("#popup_text").val();
		if(value&&value!=""){
			$("#popup_div").css("display","none");
			GDYB.GridProductClass.currentGridValuePicked = Math.floor(value*10)/10;
		}
		else{
			alert("请输入格点值");
		}
	}

	function popup_cancel_fun(){
		$("#popup_div").css("display","none");
		GDYB.GridProductClass.currentGridValuePicked = null;
	}

	//右键菜单事件处理
	var hourspanCopy = null;
	var hourspanHover = null;
	$("#divContextMenu").find("div").click(function(){
		if(this.id == "div_copy"){
			hourspanCopy = hourspanHover;
			$("#div_paste").css("display", "block");
			$("#divContextMenu").css("display", "none");
		}
		else if(this.id == "div_paste"){
			$("#divContextMenu").css("display", "none");
			//var template = "是否将{0}小时格点粘贴到{1}小时格点？";
			//if(confirm(template.format(hourspanCopy, hourspanHover)) == true)
			{
				GDYB.GridProductClass.dataCache.getData(GDYB.GridProductClass.currentMakeTime, GDYB.GridProductClass.currentVersion,
					GDYB.GridProductClass.currentDateTime, GDYB.GridProductClass.currentElement, hourspanCopy, function(hourspanData){
						//这里必须拷贝
						var dataStack = new DataStack();
						var datasetGrid = dataStack.clone(hourspanData.data);

						GDYB.GridProductClass.dataCache.addData(GDYB.GridProductClass.currentMakeTime, GDYB.GridProductClass.currentVersion,
							GDYB.GridProductClass.currentDateTime, GDYB.GridProductClass.currentElement, hourspanHover, datasetGrid, 1);
						GDYB.GDYBPage.updateHourSpanStatus();
					});
			}
		}
		else if(this.id == "div_cancel"){
			$("#divContextMenu").css("display", "none");
		}
	});

	$("#a_exit").click(function(){
		if(this.innerHTML == "退出") {
			GDYB.GridProductClass.currentUserName = null;

			$("#span_user")[0].innerHTML = "未登录";
			$.cookie('password', '', { expires: -1 });      //如果退出，不记录密码
			$.cookie("rmbUser", 'false', { expire: -1 });   //如果退出，不记录密码
			$.cookie("departCode", '', { expire: -1 });   //如果退出，不记录密码
			this.innerHTML = "登录";
		}
		else if(this.innerHTML == "登录") {
			window.location.href="index.html";
		}
	});
	//显隐displayBtn
	$("#menu_bd").hover(function(){
		$("#displayBtn").css("display", "block");
	});
	$("#menu_bd").mouseleave(function(){
		//setTimeout("$('#displayBtn').css('display', 'none')",5000);
	});
	$("#sideWrapper").hover(function(){
		$("#displayBtn").css("display", "block");
	});
	$("#sideWrapper").mouseleave(function(){
		setTimeout("$('#displayBtn').css('display', 'none')",5000);
	});
	function closeIFrame(){
		$("#dialog_model").css("display","none");
	}
	//设置模态窗的位置
	$("#div_modal_confirm,#div_modal_SaveGrid").css("top",(document.body.clientHeight)*0.12);
</script>
</html>
